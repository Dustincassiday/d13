<ng-container *ngIf="vm$ | async as vm">
  <d13-layout [vm]="vm" (headerBtnClick)="handleBtnClick($event)">
    <router-outlet main-content></router-outlet>
  </d13-layout>

  <!-- MODALS -->
  <ng-template #login let-modal>
    <d13-login-modal [modalRef]="modal" [alerts]="vm.errors" (newUserBtnClick)="handleBtnClick('signup')"
      (closeModal)="handleCloseModal()" (loginBtnClick)="loginForm.submit()">
      <d13-login-form #loginForm (formSubmit)="handleLoginFormSubmit($event)"></d13-login-form>
    </d13-login-modal>
  </ng-template>

  <ng-template #signup let-modal>
    <d13-signup-modal [modalRef]="modal" (loginBtnClick)="handleBtnClick('login')"
      (signupBtnClick)="signUpForm.submit()">
      <d13-signup-form #signUpForm (formSubmit)="handleSignupFormSubmit($event)"></d13-signup-form>
    </d13-signup-modal>
  </ng-template>
</ng-container>